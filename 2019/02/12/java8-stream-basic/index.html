
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="즐거이 배우고 깊이 생각하라">
    <title>스트림(Stream) 소개 - 즐거이 배우고 깊이 생각하라</title>
    <meta name="author" content="hyunto">
    
    
        <link rel="icon" href="https://hyunto.github.io/assets/images/favicon.ico">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"hyunto","sameAs":["https://github.com/hyunto","https://blog.naver.com/eqelizer","mailto:jhyunto@gmail.com"],"image":"author.jpg"},"articleBody":"Java8에서 새로 추가된 스트림의 기초를 정리합니다.\n\n\n\n\n스트림이란?스트림이란 데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소 로 정의할 수 있다.\n스트림을 사용하면 선언형(즉, 데이터를 처리하는 임시코드 대신 질의로 표현)으로 컬렉션 데이터를 처리할 수 있다.따라서 데이터 컬렉션 반복을 멋지게 처리할 수 있으며, 별도의 멀티 스레드 코드를 구현하지 않더라도 데이터를 병렬로 처리할 수 있게 된다.\n다음은 저칼로리의 요리명을 반환하고, 칼로리를 기준으로 정렬하는 로직을 Java7과 Java8로 비교하는 예시이다.\n123456789101112131415161718192021222324252627282930313233343536// Java7List&lt;Dish&gt; lowCaloricDishes = new ArrayList&lt;&gt;();\t// 컨테이너 역할만 하는 Gabage 변수!for (Dish d : menu) &#123;    if(d.getCalories() &lt; 400) &#123;        lowCaloricDishes.add(d);    &#125;&#125;Collections.sort(lowCaloricDishes, new Comparator&lt;Dish&gt;() &#123;    public int compare(Dish d1, Dish d2) &#123;        return Integer.compare(d1.getCalories(), d2.getCalories());    &#125; &#125;);List&lt;String&gt; lowCaloricDishesName = new ArrayList&lt;&gt;();for (Dish d : lowCaloricDishes) &#123;    lowCaloricDishesName.add(d.getName());&#125;// Java8import static java.util.Comparator.comparing;import static java.util.stream.Collections.toList;List&lt;String&gt; lowCaloricDishesName = menu.stream()                                        .filter(d -&gt; d.getCalories() &lt; 400)    // 400 칼로리 이하의 요리 선택                                        .sorted(comparing(Dish::getCalories))    // 칼로리로 요리 정렬                                        .map(Dish::getName)    // 요리명 추출                                        .collect(toList());    // 모든 요리명을 리스트에 저장// Java8 - 병렬 처리import static java.util.Comparator.comparing;import static java.util.stream.Collections.toList;List&lt;String&gt; lowCaloricDishesName = menu.parallelStream()                                        .filter(d -&gt; d.getCalories() &lt; 400)    // 400 칼로리 이하의 요리 선택                                        .sorted(comparing(Dish::getCalories))    // 칼로리로 요리 정렬                                        .map(Dish::getName)    // 요리명 추출                                        .collect(toList());    // 모든 요리명을 리스트에 저장\n\n위 예시를 통해 스트림이 소프트웨어 공학적으로 제공하는 이점을 확인할 수 있다. :\n\n선언형\n즉, 루프와 if 조건문 등의 제어 블록으로 어떻게 동작을 구현할지 지정하기 보다 원하는 동작의 수행을 직접적으로 지정할 수 있게 된다.\n코드가 더 간결하고 가독성이 좋아진다.\n\n\n조립할 수 있음\n여러 빌딩 블록 연산(filter, sorted, map, collect)을 연결해서 복잡한 데이터 처리 파이프라인을 만들 수 있다.\n유연성이 좋아진다.\n\n\n병렬화\n성능이 좋아진다.\nfilter, sorted, map, collect 와 같은 연산은 고수준 빌딩 블록(High-Level Building Block) 으로 이루어져 있으므로 특정 스레드 모델에 제한되지 않는다. 따라서 병렬로 데이터 처리를 하면서 스레드와 락을 걱정할 필요가 없다.\n\n\n\n스트림 vs. 컬렉션\n데이터를 언제 계산하는가?\n컬렉션\n현재 자료구조가 포함하는 모든 값을 메모리에 저장.즉, 컬렉션의 모든 요소는 컬렉션에 추가하기 전에 계산되야 한다.\n생산자 중심(Supplier-Driven). 즉, 팔기도 전에 창고를 가득 채우며 적극적으로 생산 한다.\n\n\n스트림\n요청할 때만 요소를 계산하는 고정된 자료구조.따라서 스트림에 요소를 추가/삭제가 불가하다.\n사용자가 요청하는 값만 스트림에서 추출.생산자(Producer)와 소비자(Consumer) 관계.\n게으르게 만들어지는 컬렉션과 같다.즉, 사용자가 데이터를 요청할 때만 값을 계산한다. (요청 중심 제조(Demand-Driven Manufacturing) or 즉석 제조(Just-In-Time Manufacturing))\n\n\n\n데이터 소스를 반복 사용할 수 있는가?\n컬렉션\n데이터를 반복해서 사용 할 수 있다.\n\n\n스트림\n데이터를 단 한번만 소비할 수 있다.\n\n\n\n외부반복과 내부반복\n컬렉션 : 외부반복 (External Iteration)\n스트림 : 내부반복 (Internal Iteration)\n\n스트림은 내부반복을 통해 작업을 투명하게, 그리고 하드웨어를 활용한 병렬설 구현을 자동으로 하거나, 최적화된 다양한 순서로 처리할 수 있게 해준다.\n123456789101112131415161718// 컬렉션 : for-each 루프를 이용하는 외부반복List&lt;String&gt; names = new ArrayList&lt;&gt;();for(Dish d : menu) &#123;    names.add(d.getName());&#125;// 컬렉션 : Iterator 객체를 이용하는 외부반복List&lt;String&gt; names = new ArrayList&lt;&gt;();Iterator&lt;Dish&gt; iterator = menu.iterator();while(iterator.hasNext()) &#123;    Dish d = iterator.next();    names.add(d.getName());&#125;// 스트림 : 내부반복List&lt;String&gt; names = menu.stream()                         .map(Dish::getName)                         .collect(toList());\n\n스트림 연산12345List&lt;String&gt; names = menu.stream()    // 스트림 리스트 얻기                         .filter(d -&gt; d.getCalories() &gt; 300)    // 중간 연산                         .map(Dish::getName)    // 중간 연산                         .limit(3)    // 중간 연산                         .collect(toList());    // 스트림을 리스트로 변환\n\n스트림 파이프라인은 빌더 패턴(Builder Pattern)과 비슷하다.위 예제 코드를 보면 알 수 있듯이 스트림의 연산은 크게 2가지로 구분할 수 있다.\n\n중간 연산 (Intermediate Operation)\nfilter, map, limit 는 서로 연결되여 파이프라인을 형성.\n중간 연산은 다른 스트림을 반환한다. 따라서 서로 다른 여러 중간 연산을 연결/병합해서 질의를 만들 수 있다. (Loop Fusion)\n중간 연산 만으로는 결과를 생성할 순 없다. (최종 연산 필요)\nfilter, map, limit, sorted, distinct…\n\n\n최종 연산 (Terminal Operation)\ncollect 로 파이프라인을 실행한 후 종료.즉, 스트림 파이프라인에서 결과를 도출하여 List, Integer, void 등의 결과로 반환한다.\nforEach, count, collect…\n\n\n\n","dateCreated":"2019-02-12T00:13:34+09:00","dateModified":"2019-08-08T23:23:01+09:00","datePublished":"2019-02-12T00:13:34+09:00","description":"Java8에서 새로 추가된 스트림의 기초를 정리합니다.","headline":"스트림(Stream) 소개","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hyunto.github.io/2019/02/12/java8-stream-basic/"},"publisher":{"@type":"Organization","name":"hyunto","sameAs":["https://github.com/hyunto","https://blog.naver.com/eqelizer","mailto:jhyunto@gmail.com"],"image":"author.jpg","logo":{"@type":"ImageObject","url":"author.jpg"}},"url":"https://hyunto.github.io/2019/02/12/java8-stream-basic/","keywords":"Java, Java8, Stream"}</script>
    <meta name="description" content="Java8에서 새로 추가된 스트림의 기초를 정리합니다.">
<meta name="keywords" content="Java,Java8,Stream">
<meta property="og:type" content="blog">
<meta property="og:title" content="스트림(Stream) 소개">
<meta property="og:url" content="https://hyunto.github.io/2019/02/12/java8-stream-basic/index.html">
<meta property="og:site_name" content="즐거이 배우고 깊이 생각하라">
<meta property="og:description" content="Java8에서 새로 추가된 스트림의 기초를 정리합니다.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://hyunto.github.io/2019/02/12/java8-stream-basic/stream-and-collection.png">
<meta property="og:updated_time" content="2019-08-08T14:23:01.948Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="스트림(Stream) 소개">
<meta name="twitter:description" content="Java8에서 새로 추가된 스트림의 기초를 정리합니다.">
<meta name="twitter:image" content="https://hyunto.github.io/2019/02/12/java8-stream-basic/stream-and-collection.png">
    
    
        
    
    
        <meta property="og:image" content="https://hyunto.github.io/assets/images/author.jpg">
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-2dwn68oxrx7garnr65iriskewle1uhxjgd7vwi5ghcmktc2mzvq8clkrcp9l.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-113695151-1', 'auto');
        ga('send', 'pageview');
    </script>


    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">즐거이 배우고 깊이 생각하라</a>
    </div>
    
        
            <a class="header-right-icon open-algoria-search" href="#about">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture">
                </a>
                <h4 class="sidebar-profile-name">hyunto</h4>
                
                    <h5 class="sidebar-profile-bio"><p>호학심사(好學深思)<br>즐거이 배우고 깊이 생각하라</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="Home">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="Categories">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="Tags">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="Archives">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="Search">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="About">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/hyunto" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://blog.naver.com/eqelizer" target="_blank" rel="external nofollow noopener noreferrer" title="Previous Blog">
                    
                        <i class="sidebar-button-icon fas fa-paper-plane" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Previous Blog</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:jhyunto@gmail.com" target="_blank" rel="external nofollow noopener noreferrer" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2" class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            스트림(Stream) 소개
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-02-12T00:13:34+09:00">
	
		    Feb 12, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Programming/">Programming</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>Java8에서 새로 추가된 스트림의 기초를 정리합니다.</p>
<a id="more"></a>

<h1 id="table-of-contents">Table of Contents</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#스트림이란"><span class="toc-text">스트림이란?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#스트림-vs-컬렉션"><span class="toc-text">스트림 vs. 컬렉션</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#데이터를-언제-계산하는가"><span class="toc-text">데이터를 언제 계산하는가?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#데이터-소스를-반복-사용할-수-있는가"><span class="toc-text">데이터 소스를 반복 사용할 수 있는가?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#외부반복과-내부반복"><span class="toc-text">외부반복과 내부반복</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#스트림-연산"><span class="toc-text">스트림 연산</span></a></li></ol>

<h1 id="스트림이란"><a href="#스트림이란" class="headerlink" title="스트림이란?"></a>스트림이란?</h1><p>스트림이란 <em>데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소</em> 로 정의할 수 있다.</p>
<p>스트림을 사용하면 선언형(즉, 데이터를 처리하는 임시코드 대신 질의로 표현)으로 컬렉션 데이터를 처리할 수 있다.<br>따라서 데이터 컬렉션 반복을 멋지게 처리할 수 있으며, 별도의 멀티 스레드 코드를 구현하지 않더라도 데이터를 병렬로 처리할 수 있게 된다.</p>
<p>다음은 저칼로리의 요리명을 반환하고, 칼로리를 기준으로 정렬하는 로직을 Java7과 Java8로 비교하는 예시이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java7</span></span><br><span class="line">List&lt;Dish&gt; lowCaloricDishes = <span class="keyword">new</span> ArrayList&lt;&gt;();	<span class="comment">// 컨테이너 역할만 하는 Gabage 변수!</span></span><br><span class="line"><span class="keyword">for</span> (Dish d : menu) &#123;</span><br><span class="line">    <span class="keyword">if</span>(d.getCalories() &lt; <span class="number">400</span>) &#123;</span><br><span class="line">        lowCaloricDishes.add(d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Collections.sort(lowCaloricDishes, <span class="keyword">new</span> Comparator&lt;Dish&gt;() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Dish d1, Dish d2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.compare(d1.getCalories(), d2.getCalories());</span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; lowCaloricDishesName = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (Dish d : lowCaloricDishes) &#123;</span><br><span class="line">    lowCaloricDishesName.add(d.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java8</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.util.Comparator.comparing;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.util.stream.Collections.toList;</span><br><span class="line">List&lt;String&gt; lowCaloricDishesName = menu.stream()</span><br><span class="line">                                        .filter(d -&gt; d.getCalories() &lt; <span class="number">400</span>)    <span class="comment">// 400 칼로리 이하의 요리 선택</span></span><br><span class="line">                                        .sorted(comparing(Dish::getCalories))    <span class="comment">// 칼로리로 요리 정렬</span></span><br><span class="line">                                        .map(Dish::getName)    <span class="comment">// 요리명 추출</span></span><br><span class="line">                                        .collect(toList());    <span class="comment">// 모든 요리명을 리스트에 저장</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Java8 - 병렬 처리</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.util.Comparator.comparing;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.util.stream.Collections.toList;</span><br><span class="line">List&lt;String&gt; lowCaloricDishesName = menu.parallelStream()</span><br><span class="line">                                        .filter(d -&gt; d.getCalories() &lt; <span class="number">400</span>)    <span class="comment">// 400 칼로리 이하의 요리 선택</span></span><br><span class="line">                                        .sorted(comparing(Dish::getCalories))    <span class="comment">// 칼로리로 요리 정렬</span></span><br><span class="line">                                        .map(Dish::getName)    <span class="comment">// 요리명 추출</span></span><br><span class="line">                                        .collect(toList());    <span class="comment">// 모든 요리명을 리스트에 저장</span></span><br></pre></td></tr></table></figure>

<p>위 예시를 통해 스트림이 소프트웨어 공학적으로 제공하는 이점을 확인할 수 있다. :</p>
<ul>
<li><strong>선언형</strong><ul>
<li>즉, 루프와 if 조건문 등의 제어 블록으로 어떻게 동작을 구현할지 지정하기 보다 원하는 동작의 수행을 직접적으로 지정할 수 있게 된다.</li>
<li>코드가 더 간결하고 가독성이 좋아진다.</li>
</ul>
</li>
<li><strong>조립할 수 있음</strong><ul>
<li>여러 빌딩 블록 연산(filter, sorted, map, collect)을 연결해서 <strong>복잡한 데이터 처리 파이프라인을 만들 수 있다.</strong></li>
<li>유연성이 좋아진다.</li>
</ul>
</li>
<li><strong>병렬화</strong><ul>
<li>성능이 좋아진다.</li>
<li>filter, sorted, map, collect 와 같은 연산은 <strong>고수준 빌딩 블록(High-Level Building Block)</strong> 으로 이루어져 있으므로 특정 스레드 모델에 제한되지 않는다. 따라서 병렬로 데이터 처리를 하면서 스레드와 락을 걱정할 필요가 없다.</li>
</ul>
</li>
</ul>
<h1 id="스트림-vs-컬렉션"><a href="#스트림-vs-컬렉션" class="headerlink" title="스트림 vs. 컬렉션"></a>스트림 vs. 컬렉션</h1><p><img src="stream-and-collection.png" alt="Stream vs. Collection"></p>
<h2 id="데이터를-언제-계산하는가"><a href="#데이터를-언제-계산하는가" class="headerlink" title="데이터를 언제 계산하는가?"></a>데이터를 언제 계산하는가?</h2><ul>
<li>컬렉션<ul>
<li>현재 자료구조가 포함하는 모든 값을 메모리에 저장.<br>즉, 컬렉션의 모든 요소는 컬렉션에 추가하기 전에 계산되야 한다.</li>
<li>생산자 중심(Supplier-Driven). 즉, 팔기도 전에 창고를 가득 채우며 <strong>적극적으로 생산</strong> 한다.</li>
</ul>
</li>
<li>스트림<ul>
<li>요청할 때만 요소를 계산하는 고정된 자료구조.<br>따라서 스트림에 요소를 추가/삭제가 불가하다.</li>
<li>사용자가 요청하는 값만 스트림에서 추출.<br>생산자(Producer)와 소비자(Consumer) 관계.</li>
<li>게으르게 만들어지는 컬렉션과 같다.<br>즉, 사용자가 데이터를 요청할 때만 값을 계산한다. (요청 중심 제조(Demand-Driven Manufacturing) or 즉석 제조(Just-In-Time Manufacturing))</li>
</ul>
</li>
</ul>
<h2 id="데이터-소스를-반복-사용할-수-있는가"><a href="#데이터-소스를-반복-사용할-수-있는가" class="headerlink" title="데이터 소스를 반복 사용할 수 있는가?"></a>데이터 소스를 반복 사용할 수 있는가?</h2><ul>
<li>컬렉션<ul>
<li>데이터를 반복해서 사용 할 수 있다.</li>
</ul>
</li>
<li>스트림<ul>
<li>데이터를 단 한번만 소비할 수 있다.</li>
</ul>
</li>
</ul>
<h2 id="외부반복과-내부반복"><a href="#외부반복과-내부반복" class="headerlink" title="외부반복과 내부반복"></a>외부반복과 내부반복</h2><ul>
<li>컬렉션 : 외부반복 (External Iteration)</li>
<li>스트림 : 내부반복 (Internal Iteration)</li>
</ul>
<p>스트림은 내부반복을 통해 작업을 투명하게, 그리고 하드웨어를 활용한 병렬설 구현을 자동으로 하거나, 최적화된 다양한 순서로 처리할 수 있게 해준다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 컬렉션 : for-each 루프를 이용하는 외부반복</span></span><br><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(Dish d : menu) &#123;</span><br><span class="line">    names.add(d.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 컬렉션 : Iterator 객체를 이용하는 외부반복</span></span><br><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Iterator&lt;Dish&gt; iterator = menu.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext()) &#123;</span><br><span class="line">    Dish d = iterator.next();</span><br><span class="line">    names.add(d.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 스트림 : 내부반복</span></span><br><span class="line">List&lt;String&gt; names = menu.stream()</span><br><span class="line">                         .map(Dish::getName)</span><br><span class="line">                         .collect(toList());</span><br></pre></td></tr></table></figure>

<h1 id="스트림-연산"><a href="#스트림-연산" class="headerlink" title="스트림 연산"></a>스트림 연산</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = menu.stream()    <span class="comment">// 스트림 리스트 얻기</span></span><br><span class="line">                         .filter(d -&gt; d.getCalories() &gt; <span class="number">300</span>)    <span class="comment">// 중간 연산</span></span><br><span class="line">                         .map(Dish::getName)    <span class="comment">// 중간 연산</span></span><br><span class="line">                         .limit(<span class="number">3</span>)    <span class="comment">// 중간 연산</span></span><br><span class="line">                         .collect(toList());    <span class="comment">// 스트림을 리스트로 변환</span></span><br></pre></td></tr></table></figure>

<p>스트림 파이프라인은 빌더 패턴(Builder Pattern)과 비슷하다.<br>위 예제 코드를 보면 알 수 있듯이 스트림의 연산은 크게 2가지로 구분할 수 있다.</p>
<ul>
<li>중간 연산 (Intermediate Operation)<ul>
<li>filter, map, limit 는 서로 연결되여 파이프라인을 형성.</li>
<li>중간 연산은 다른 스트림을 반환한다. 따라서 서로 다른 여러 중간 연산을 연결/병합해서 질의를 만들 수 있다. (Loop Fusion)</li>
<li>중간 연산 만으로는 결과를 생성할 순 없다. (최종 연산 필요)</li>
<li>filter, map, limit, sorted, distinct…</li>
</ul>
</li>
<li>최종 연산 (Terminal Operation)<ul>
<li>collect 로 파이프라인을 실행한 후 종료.<br>즉, 스트림 파이프라인에서 결과를 도출하여 List, Integer, void 등의 결과로 반환한다.</li>
<li>forEach, count, collect…</li>
</ul>
</li>
</ul>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Java/">Java</a> <a class="tag tag--primary tag--small t-link" href="/tags/Java8/">Java8</a> <a class="tag tag--primary tag--small t-link" href="/tags/Stream/">Stream</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/02/17/java8-stream-practice/" data-tooltip="스트림(Stream) 활용" aria-label="PREVIOUS: 스트림(Stream) 활용">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/02/11/java8-lambda/" data-tooltip="람다 표현식 (Lambda Expression)" aria-label="NEXT: 람다 표현식 (Lambda Expression)">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Facebook" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Twitter" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Google+" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="Table of Contents">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 hyunto. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
                    
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-8873866934903362",
    enable_page_level_ads: true
  });
</script>


                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/02/17/java8-stream-practice/" data-tooltip="스트림(Stream) 활용" aria-label="PREVIOUS: 스트림(Stream) 활용">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/02/11/java8-lambda/" data-tooltip="람다 표현식 (Lambda Expression)" aria-label="NEXT: 람다 표현식 (Lambda Expression)">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Facebook" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Twitter" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://hyunto.github.io/2019/02/12/java8-stream-basic/" title="Share on Google+" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="Table of Contents">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hyunto.github.io/2019/02/12/java8-stream-basic/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://twitter.com/intent/tweet?text=https://hyunto.github.io/2019/02/12/java8-stream-basic/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://plus.google.com/share?url=https://hyunto.github.io/2019/02/12/java8-stream-basic/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture">
        
            <h4 id="about-card-name">hyunto</h4>
        
            <div id="about-card-bio"><p>호학심사(好學深思)<br>즐거이 배우고 깊이 생각하라</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>Software Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br>
                Republic of Korea, Seoul
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="external nofollow noopener noreferrer" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search ">
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/07/26/Hexo-사용법/">
                            <h3 class="media-heading">Hexo 사용법</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 26, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>2018년 초, Hexo를 사용해 이 블로그를 만들었으나 집, 회사 PC에서 블로그 Source를 다운받아 Deploy하는 과정에서 여러번 블로그를 망가뜨려 버렸습니다.<br>같은 실수를 반복하지 않기 위해 블로그 소스코드 다운, 빌드, 배포와 글을 작성하는 방법을 간단히 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/07/27/자주-사용하는-Docker-명령어-정리/">
                            <h3 class="media-heading">자주 사용하는 Docker 명령어 정리</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jul 27, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>업무 중 자주 사용되는 Docker CLI명령어와 Dockerfile 키워드를 정리합니다.<br>또한 업무중 겪었던 Docker 관련 이슈를 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/11/16/Book-Review-자바-ORM-표준-JPA-프로그래밍/">
                            <img class="media-image" src="https://hyunto.github.io/2018/11/16/Book-Review-자바-ORM-표준-JPA-프로그래밍/book_cover.png" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/11/16/Book-Review-자바-ORM-표준-JPA-프로그래밍/">
                            <h3 class="media-heading">[Book Review] 자바 ORM 표준 JPA 프로그래밍</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 16, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>자바 ORM 표준 JPA 프로그래밍 (2015) 독서/스터디 후기</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/12/03/Java8-Behavior-Parameterization/">
                            <h3 class="media-heading">동작 파라미터화 (Behavior Parameterization)</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 3, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p><code>동작 파라미터화 (Behavior Parameterization)</code> 는 “다양한 동작을 수행할 수 있는 코드 블럭을 메서드 파라미터로 전달”함으로써 자주 변경되는 요구사항에 효과적으로 대응할 수 있는 방식을 의미합니다.</p>
<p>여기서는 자주 변경되는 요구사항의 예시를 기반으로 동작 파라미터화를 한 후 Java8에서 추가된 Lambda로 코드를 간소화하는 과정을 보여줍니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2018/12/11/git-secret/">
                            <h3 class="media-heading">git-secret</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 11, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>비밀번호, Secret Key 값과 같이 보호되야 하는 데이터가 포함된 파일을 그냥 Git Commit &amp; Push 하면 개인적인 데이터가 노출되는 문제점이 발생합니다.</p>
<p><code>git-secret</code> 을 사용하면 개인적인 데이터가 포함된 파일을 암호화 한 후에 Git 저장소에 저장함으로써 문제점을 해결할 수 있습니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2019/01/15/introduction-to-oauth2.0/">
                            <h3 class="media-heading">OAuth 2.0 - 기본개념 및 Authorization Grant</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jan 15, 2019
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>최근 OAuth 2.0에 대해 공부하면서 다양한 Grant 종류가 존재함을 알게 되었습니다.<br>기본 개념과 Grant 종류에 대해 잘 정리되어 OAuth 2.0 이해에 도움됬던 사이트들의 내용을 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2019/02/11/java8-lambda/">
                            <h3 class="media-heading">람다 표현식 (Lambda Expression)</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 11, 2019
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Java8에서 새롭게 추가된 람다 표현식을 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2019/02/12/java8-stream-basic/">
                            <h3 class="media-heading">스트림(Stream) 소개</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 12, 2019
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Java8에서 새로 추가된 스트림의 기초를 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2019/02/17/java8-stream-practice/">
                            <h3 class="media-heading">스트림(Stream) 활용</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 17, 2019
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Java8 Stream 활용 방안을 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://hyunto.github.io/2019/03/13/springframework-testing-private-method/">
                            <h3 class="media-heading">Private 메소드 테스트하기</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Mar 13, 2019
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>단위 테스트 작성시 Private 접근자를 가진 메소드를 테스트하는 방법을 정리합니다.</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium" data-message-zero="no post found" data-message-one="1 post found" data-message-other="{n} posts found">
                10 posts found
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover_the_legend_of_zelda.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-x2vft4khydnm3fle5k6i00lpg0w2a1yxes6bmk6mdnvmeqzmtipaw6lhf8rx.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'https://hyunto.github.io/2019/02/12/java8-stream-basic/';
                 
                    this.page.identifier = '2019/02/12/java8-stream-basic/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'hyunto';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('XKYZJU6GUU', '6f712de882b0c14f1ba276f5970d1d44');
        var algoliaIndex = algoliaClient.initIndex('hyunto.github.io');
    </script>


    </body>
</html>
